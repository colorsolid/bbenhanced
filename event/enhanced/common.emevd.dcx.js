// ==EMEVD==
// @docs    bb-common.emedf.json
// @compress    DCX_DFLT_10000_44_9
// @game    Bloodborne
// @string    ""
// @linked    []
// @version    3.4.2
// ==/EMEVD==

// コンストラクタ
$Event(0, Default, function() {
    SetEventFlag(7501, OFF);
    InitializeEvent(0, 9190, 0);
    InitializeEvent(0, 9191, 0);
    InitializeEvent(0, 9192, 0);
    InitializeEvent(0, 9193, 0);
    InitializeEvent(0, 9198, 0);
    InitializeEvent(0, 6788, 0);
    InitializeEvent(0, 6789, 0);
    InitializeEvent(0, 6809, 0);
    InitializeEvent(0, 6815, 0);
    InitializeEvent(0, 6816, 0);
    InitializeEvent(0, 9181, 0);
    InitializeEvent(0, 9182, 0);
    InitializeEvent(0, 9183, 0);
    InitializeEvent(0, 9186, 0);
    InitializeEvent(0, 6680, 0);
    InitializeEvent(0, 6681, 0);
    InitializeEvent(0, 6682, 0);
    InitializeEvent(0, 6683, 0);
    InitializeEvent(0, 6684, 0);
    InitializeEvent(0, 6685, 0);
    InitializeEvent(0, 6686, 0);
    InitializeEvent(0, 6687, 0);
    InitializeEvent(0, 6688, 0);
    InitializeEvent(0, 6689, 0);
    InitializeEvent(0, 6690, 0);
    InitializeEvent(0, 6691, 0);
    InitializeEvent(0, 6692, 0);
    InitializeEvent(0, 6693, 0);
    InitializeEvent(0, 6694, 0);
    InitializeEvent(0, 6695, 0);
    InitializeEvent(0, 6696, 0);
    InitializeEvent(0, 6697, 0);
    InitializeEvent(0, 5500, 23010000);
    InitializeEvent(1, 5500, 23020000);
    InitializeEvent(2, 5500, 24010000);
    InitializeEvent(3, 5500, 24020000);
    InitializeEvent(4, 5500, 30010000);
    InitializeEvent(5, 5500, 30020000);
    InitializeEvent(6, 5500, 32010000);
    InitializeEvent(7, 5500, 32020000);
    InitializeEvent(8, 5500, 26010000);
    InitializeEvent(9, 5500, 26020000);
    InitializeEvent(10, 5500, 27010000);
    InitializeEvent(11, 5500, 27020000);
    InitializeEvent(12, 5500, 31010000);
    InitializeEvent(13, 5500, 31020000);
    InitializeEvent(14, 5500, 28010000);
    InitializeEvent(15, 5500, 28020000);
    InitializeEvent(16, 5500, 29010000);
    InitializeEvent(17, 5500, 29020000);
    InitializeEvent(18, 5500, 25010000);
    InitializeEvent(19, 5500, 25020000);
    InitializeEvent(20, 5500, 38010000);
    InitializeEvent(21, 5500, 38020000);
    InitializeEvent(0, 9500, 3400, 100000);
    InitializeEvent(1, 9500, 3401, 100010);
    InitializeEvent(2, 9500, 3402, 100020);
    InitializeEvent(3, 9500, 3403, 100030);
    InitializeEvent(4, 9500, 3404, 100040);
    InitializeEvent(5, 9500, 3405, 100050);
    InitializeEvent(6, 9500, 3406, 100060);
    InitializeEvent(7, 9500, 3407, 100070);
    InitializeEvent(8, 9500, 3408, 100080);
    InitializeEvent(9, 9500, 3409, 100090);
    InitializeEvent(10, 9500, 3410, 100100);
    InitializeEvent(11, 9500, 3411, 100110);
    InitializeEvent(12, 9500, 3412, 100120);
    InitializeEvent(13, 9500, 3390, 100500);
    InitializeEvent(14, 9500, 3391, 100510);
    InitializeEvent(15, 9500, 3392, 100520);
    InitializeEvent(16, 9500, 3450, 101000);
    InitializeEvent(17, 9500, 3451, 101010);
    InitializeEvent(18, 9500, 3452, 101020);
    InitializeEvent(19, 9500, 3453, 101030);
    InitializeEvent(20, 9500, 3454, 101040);
    InitializeEvent(21, 9500, 3455, 101050);
    InitializeEvent(22, 9500, 3456, 101060);
    InitializeEvent(23, 9500, 3457, 101070);
    InitializeEvent(24, 9500, 3458, 101080);
    InitializeEvent(25, 9500, 3459, 101090);
    InitializeEvent(26, 9500, 3460, 101100);
    InitializeEvent(27, 9500, 3461, 101110);
    InitializeEvent(28, 9500, 3462, 101120);
    InitializeEvent(29, 9500, 3463, 101130);
    InitializeEvent(30, 9500, 3464, 101140);
    InitializeEvent(31, 9500, 3465, 101150);
    InitializeEvent(32, 9500, 3466, 101160);
    InitializeEvent(33, 9500, 3467, 101170);
    InitializeEvent(34, 9500, 3468, 101180);
    InitializeEvent(35, 9500, 3469, 101190);
    InitializeEvent(36, 9500, 3470, 101200);
    InitializeEvent(37, 9500, 3471, 101210);
    InitializeEvent(38, 9500, 3472, 101220);
    InitializeEvent(39, 9500, 3473, 101230);
    InitializeEvent(40, 9500, 3474, 101240);
    InitializeEvent(41, 9500, 3475, 101250);
    InitializeEvent(42, 9500, 3476, 101260);
    InitializeEvent(43, 9500, 3477, 101270);
    InitializeEvent(44, 9500, 3478, 101280);
    InitializeEvent(45, 9500, 3479, 101290);
    InitializeEvent(46, 9500, 3480, 101300);
    InitializeEvent(47, 9500, 3481, 101310);
    InitializeEvent(48, 9500, 3482, 101320);
    InitializeEvent(49, 9500, 3483, 101330);
    InitializeEvent(50, 9500, 3484, 101340);
    InitializeEvent(0, 9440, 9440, 10500);
    InitializeEvent(1, 9440, 9441, 11500);
    InitializeEvent(2, 9440, 9442, 12500);
    InitializeEvent(0, 9215, 0);
    InitializeEvent(0, 9421, 0);
    InitializeEvent(0, 9422, 0);
    InitializeEvent(0, 9400, 0);
    InitializeEvent(0, 9404, 0);
    InitializeEvent(2, 9040, 9042, 17000);
    InitializeEvent(5, 9040, 9045, 22000);
    InitializeEvent(6, 9040, 9046, 23000);
    InitializeEvent(7, 9040, 9047, 24000);
    InitializeEvent(8, 9040, 9048, 24010);
    InitializeEvent(9, 9040, 9049, 24020);
    InitializeEvent(10, 9040, 9050, 24030);
    InitializeEvent(11, 9040, 9051, 24040);
    InitializeEvent(12, 9040, 9052, 24050);
    InitializeEvent(14, 9040, 9054, 26000);
    InitializeEvent(15, 9040, 9055, 26010);
    InitializeEvent(16, 9040, 9056, 26020);
    InitializeEvent(17, 9040, 9057, 26030);
    InitializeEvent(18, 9040, 9058, 27000);
    InitializeEvent(19, 9040, 9059, 27010);
    InitializeEvent(20, 9040, 9060, 27020);
    InitializeEvent(21, 9040, 9061, 27030);
    InitializeEvent(22, 9040, 9062, 27040);
    InitializeEvent(23, 9040, 9063, 27050);
    InitializeEvent(24, 9040, 9064, 27060);
    InitializeEvent(26, 9040, 9066, 29000);
    InitializeEvent(27, 9040, 9067, 30000);
    InitializeEvent(29, 9040, 9069, 32000);
    InitializeEvent(31, 9040, 9071, 33000);
    InitializeEvent(32, 9040, 9072, 34000);
    InitializeEvent(33, 9040, 9073, 34010);
    InitializeEvent(34, 9040, 9074, 35000);
    InitializeEvent(35, 9040, 9075, 35010);
    InitializeEvent(36, 9040, 9076, 39000);
    InitializeEvent(37, 9040, 9077, 39010);
    InitializeEvent(0, 9100, 72410359, 24060);
    InitializeEvent(1, 9100, 72410310, 23000);
    InitializeEvent(2, 9100, 72400398, 32020);
    InitializeEvent(3, 9100, 72400489, 28000);
    InitializeEvent(4, 9100, 9043, 17010);
    InitializeEvent(0, 9910, 0);
    InitializeEvent(0, 9909, 0);
    InitializeEvent(0, 9905, 4685);
    InitializeEvent(1, 9905, 4686);
    InitializeEvent(2, 9905, 4687);
    InitializeEvent(3, 9905, 4688);
    if (!HasMultiplayerState(MultiplayerState.Host)) {
        SetSpEffect(10000, 9110, false);
    }
    InitializeEvent(0, 9030, 6100, 180010);
    InitializeEvent(1, 9030, 6110, 180000);
    InitializeEvent(2, 9030, 6120, 180020);
    InitializeEvent(0, 9035, 6142, 180040);
    if (PlayerHasItem(ItemType.Goods, 6302)) {
        SetEventFlag(70009200, ON);
    }
    if (PlayerHasItem(ItemType.Goods, 6312)) {
        SetEventFlag(70009210, ON);
    }
    if (PlayerHasItem(ItemType.Goods, 6502)) {
        SetEventFlag(70009220, ON);
    }
    if (PlayerHasItem(ItemType.Goods, 6522)) {
        SetEventFlag(70009230, ON);
    }
    if (PlayerHasItem(ItemType.Goods, 6532)) {
        SetEventFlag(70009240, ON);
    }
});

// プリコンストラクタ
$Event(50, Default, function() {
    InitializeEvent(0, 6002, 0);
    if (!HasMultiplayerState(MultiplayerState.Client)) {
        if (EventFlag(12101800)) {
            SetEventFlag(9450, ON);
            SetEventFlag(3210, OFF);
        }
        if (EventFlag(12101850)) {
            SetEventFlag(9451, ON);
            SetEventFlag(3211, OFF);
        }
        if (EventFlag(12201800)) {
            SetEventFlag(9452, ON);
            SetEventFlag(5911, ON);
            SetEventFlag(3220, OFF);
        }
        if (EventFlag(12301800)) {
            SetEventFlag(9453, ON);
            SetEventFlag(3230, OFF);
        }
        if (EventFlag(12301700)) {
            SetEventFlag(9454, ON);
            SetEventFlag(3231, OFF);
        }
        if (EventFlag(12401800)) {
            SetEventFlag(9455, ON);
            SetEventFlag(3240, OFF);
        }
        if (EventFlag(12411700)) {
            SetEventFlag(9456, ON);
            SetEventFlag(3241, OFF);
        }
        if (EventFlag(12411800)) {
            SetEventFlag(9457, ON);
            SetEventFlag(5910, ON);
            SetEventFlag(3242, OFF);
        }
        if (EventFlag(12421700)) {
            SetEventFlag(9458, ON);
            SetEventFlag(3243, OFF);
        }
        if (EventFlag(12421800)) {
            SetEventFlag(9459, ON);
            SetEventFlag(3244, OFF);
        }
        if (EventFlag(12501800)) {
            SetEventFlag(9460, ON);
            SetEventFlag(3250, OFF);
        }
        if (EventFlag(12601850)) {
            SetEventFlag(9461, ON);
            SetEventFlag(3260, OFF);
            if (EventFlag(12607850)) {
                SetEventFlag(12601854, ON);
            }
        }
        if (EventFlag(12601800)) {
            SetEventFlag(9462, ON);
            SetEventFlag(3261, OFF);
        }
        if (EventFlag(12701800)) {
            SetEventFlag(9463, ON);
            SetEventFlag(3270, OFF);
        }
        if (EventFlag(12801800)) {
            SetEventFlag(9464, ON);
            SetEventFlag(3280, OFF);
        }
        if (EventFlag(13201800)) {
            SetEventFlag(9465, ON);
            SetEventFlag(3320, OFF);
        }
        if (EventFlag(13301800)) {
            SetEventFlag(9466, ON);
            SetEventFlag(3330, OFF);
        }
        if (EventFlag(12410810)) {
            SetEventFlag(5912, ON);
        }
        if (EventFlag(12300704)) {
            SetEventFlag(5914, ON);
        }
        if (EventFlag(12600029)) {
            SetEventFlag(5913, ON);
        }
        if (EventFlag(12700710)) {
            SetEventFlag(9467, ON);
        }
        if (EventFlag(12410322)) {
            SetEventFlag(12410330, ON);
        }
    }
L2:
    SetEventFlag(9180, OFF);
    InitializeEvent(19, 9360, 1324, 1324, 1324, 6001);
    InitializeEvent(20, 9360, 1342, 1346, 1350, 6001);
    InitializeEvent(22, 9360, 1368, 1368, 1368, 1376);
    InitializeEvent(25, 9360, 12300210, 12300210, 12300210, 6001);
    InitializeEvent(26, 9360, 12800700, 12800700, 12800700, 6001);
    InitializeEvent(27, 9360, 12800701, 12800701, 12800701, 6001);
    InitializeEvent(28, 9360, 12800702, 12800702, 12800702, 6001);
    InitializeEvent(30, 9360, 12410810, 12410810, 12410810, 6001);
    InitializeEvent(31, 9360, 12400654, 12400654, 12400654, 6001);
    InitializeEvent(32, 9360, 13300220, 13300220, 13300220, 6001);
    InitializeEvent(33, 9360, 13300221, 13300221, 13300221, 6001);
    InitializeEvent(34, 9360, 12400865, 12400865, 12400865, 6001);
    InitializeEvent(35, 9360, 12400866, 12400866, 12400866, 6001);
    InitializeEvent(36, 9360, 12600500, 12600500, 12600500, 6001);
    InitializeEvent(37, 9360, 13200500, 13200500, 13200500, 6001);
    InitializeEvent(0, 9480, 1710, 1711, 1712, 1713, 73600521);
    InitializeEvent(1, 9480, 1730, 1730, 1730, 1730, 6001);
    InitializeEvent(2, 9480, 1790, 1790, 1790, 1790, 6001);
    InitializeEvent(3, 9480, 13501900, 13501900, 13501900, 13501900, 6001);
    InitializeEvent(4, 9480, 12700909, 12700909, 12700909, 12700909, 6001);
    InitializeEvent(5, 9480, 13400970, 13400970, 13400970, 13400970, 6001);
    InitializeEvent(6, 9480, 13400971, 13400971, 13400971, 13400971, 6001);
    InitializeEvent(7, 9480, 13501901, 13501901, 13501901, 13501901, 6001);
    InitializeEvent(8, 9480, 13501902, 13501902, 13501902, 13501902, 6001);
    InitializeEvent(9, 9480, 13501903, 13501903, 13501903, 13501903, 6001);
    InitializeEvent(10, 9480, 13501904, 13501904, 13501904, 13501904, 6001);
    if (!EventFlag(999)) {
        if (!AnyBatchEventFlags(1000, 1019)) {
            SetEventFlag(1000, ON);
        }
        if (!AnyBatchEventFlags(1020, 1039)) {
            SetEventFlag(1020, ON);
        }
        if (!AnyBatchEventFlags(1040, 1059)) {
            SetEventFlag(1040, ON);
        }
        if (!AnyBatchEventFlags(1060, 1079)) {
            SetEventFlag(1060, ON);
        }
        if (!AnyBatchEventFlags(1080, 1099)) {
            SetEventFlag(1080, ON);
        }
        if (!AnyBatchEventFlags(1100, 1119)) {
            SetEventFlag(1100, ON);
        }
        if (!AnyBatchEventFlags(1120, 1139)) {
            SetEventFlag(1120, ON);
        }
        if (!AnyBatchEventFlags(1140, 1159)) {
            SetEventFlag(1140, ON);
        }
        if (!AnyBatchEventFlags(1160, 1179)) {
            SetEventFlag(1160, ON);
        }
        if (!AnyBatchEventFlags(1180, 1199)) {
            SetEventFlag(1180, ON);
        }
        if (!AnyBatchEventFlags(1200, 1219)) {
            SetEventFlag(1200, ON);
        }
        if (!AnyBatchEventFlags(1220, 1239)) {
            SetEventFlag(1220, ON);
        }
        if (!AnyBatchEventFlags(1240, 1259)) {
            SetEventFlag(1240, ON);
        }
        if (!AnyBatchEventFlags(1260, 1279)) {
            SetEventFlag(1260, ON);
        }
        if (!AnyBatchEventFlags(1280, 1289)) {
            SetEventFlag(1280, ON);
        }
        if (!AnyBatchEventFlags(1290, 1299)) {
            SetEventFlag(1290, ON);
        }
        if (!AnyBatchEventFlags(1300, 1319)) {
            SetEventFlag(1300, ON);
        }
        if (!AnyBatchEventFlags(1320, 1339)) {
            SetEventFlag(1320, ON);
        }
        if (!AnyBatchEventFlags(1340, 1359)) {
            SetEventFlag(1340, ON);
        }
        if (!AnyBatchEventFlags(1360, 1379)) {
            SetEventFlag(1360, ON);
        }
        if (!AnyBatchEventFlags(1380, 1399)) {
            SetEventFlag(1380, ON);
        }
        if (!AnyBatchEventFlags(1400, 1419)) {
            SetEventFlag(1400, ON);
        }
        if (!AnyBatchEventFlags(1420, 1439)) {
            SetEventFlag(1420, ON);
        }
        if (!AnyBatchEventFlags(1440, 1459)) {
            SetEventFlag(1440, ON);
        }
        SetEventFlag(999, ON);
    }
L0:
    InitializeEvent(0, 9700, 1020, 1039);
    InitializeEvent(0, 9701, 1020, 1039);
    InitializeEvent(0, 9702, 1020, 1039);
    InitializeEvent(0, 9703, 1020, 1039);
    InitializeEvent(0, 9710, 1000, 1019);
    InitializeEvent(0, 9720, 0);
    InitializeEvent(0, 9721, 0);
    InitializeEvent(0, 9722, 0);
    InitializeEvent(0, 9723, 0);
    InitializeEvent(0, 9755, 0);
    InitializeEvent(0, 9756, 0);
    InitializeEvent(0, 9770, 0);
    InitializeEvent(0, 9780, 0);
    InitializeEvent(0, 9781, 0);
    InitializeEvent(0, 9782, 0);
    InitializeEvent(0, 3500, 4900, 6900, 6071, 6011);
    InitializeEvent(1, 3500, 4901, 6901, 6072, 6012);
    InitializeEvent(2, 3500, 4902, 6902, 6073, 6013);
    InitializeEvent(0, 3503, 0);
    if (EventFlag(6604)) {
        RemoveItemFromPlayer(ItemType.Goods, 4000, 1);
        RemoveItemFromPlayer(ItemType.Goods, 4001, 1);
        RemoveItemFromPlayer(ItemType.Goods, 4003, 1);
        RemoveItemFromPlayer(ItemType.Goods, 4006, 1);
        RemoveItemFromPlayer(ItemType.Goods, 4009, 1);
        RemoveItemFromPlayer(ItemType.Goods, 4010, 1);
        RemoveItemFromPlayer(ItemType.Goods, 4011, 1);
        RemoveItemFromPlayer(ItemType.Goods, 4012, 1);
        RemoveItemFromPlayer(ItemType.Goods, 4013, 1);
        RemoveItemFromPlayer(ItemType.Goods, 4300, 1);
        RemoveItemFromPlayer(ItemType.Goods, 4305, 1);
        RemoveItemFromPlayer(ItemType.Goods, 4308, 1);
        RemoveItemFromPlayer(ItemType.Goods, 4310, 1);
        RemoveItemFromPlayer(ItemType.Goods, 4320, 1);
        RemoveItemFromPlayer(ItemType.Goods, 4321, 1);
        RemoveItemFromPlayer(ItemType.Goods, 4322, 1);
        RemoveItemFromPlayer(ItemType.Goods, 4323, 1);
        RemoveItemFromPlayer(ItemType.Goods, 4900, 1);
        RemoveItemFromPlayer(ItemType.Goods, 4901, 1);
        RemoveItemFromPlayer(ItemType.Goods, 4902, 1);
        RemoveItemFromPlayer(ItemType.Goods, 4903, 1);
        RemoveItemFromPlayer(ItemType.Goods, 4904, 1);
        RemoveItemFromPlayer(ItemType.Goods, 4905, 1);
        RemoveItemFromPlayer(ItemType.Goods, 4906, 1);
        RemoveItemFromPlayer(ItemType.Goods, 4907, 1);
        RemoveItemFromPlayer(ItemType.Goods, 4908, 1);
        RemoveItemFromPlayer(ItemType.Goods, 4014, 1);
        RemoveItemFromPlayer(ItemType.Goods, 4015, 1);
        RemoveItemFromPlayer(ItemType.Goods, 4021, 1);
        RemoveItemFromPlayer(ItemType.Goods, 4017, 1);
        RemoveItemFromPlayer(ItemType.Goods, 4018, 1);
        RemoveItemFromPlayer(ItemType.Goods, 4019, 1);
        RemoveItemFromPlayer(ItemType.Goods, 4020, 1);
        RemoveItemFromPlayer(ItemType.Goods, 4311, 1);
        RemoveItemFromPlayer(ItemType.Goods, 4340, 1);
        RemoveItemFromPlayer(ItemType.Goods, 4341, 1);
        RemoveItemFromPlayer(ItemType.Goods, 4342, 1);
        RemoveItemFromPlayer(ItemType.Goods, 700, 99);
        SetEventFlag(6604, OFF);
    }
L1:
    NoOp();
});

// DLC削除_XX
$Event(3500, Default, function(X0_4, X4_4, X8_4, X12_4) {
    SetNetworkSyncState(Disabled);
    EndIf(!CharacterType(10000, TargetType.Alive));
    WaitFor(!EventFlag(X4_4));
    RemoveItemFromPlayer(ItemType.Goods, X0_4, 99);
    SetEventFlag(X8_4, OFF);
    SetEventFlag(X12_4, OFF);
});

// DLC削除_03
$Event(3503, Default, function() {
    SetNetworkSyncState(Disabled);
    EndIf(!CharacterType(10000, TargetType.Alive));
    WaitFor(!EventFlag(6899));
    RemoveItemFromPlayer(ItemType.Goods, 4311, 99);
    SetEventFlag(50000100, OFF);
    SetEventFlag(12101029, OFF);
    SetEventFlag(13407810, OFF);
    SetEventFlag(13407830, OFF);
    SetEventFlag(13407850, OFF);
    SetEventFlag(13407870, OFF);
    SetEventFlag(13507810, OFF);
    SetEventFlag(13507830, OFF);
    SetEventFlag(13507850, OFF);
    SetEventFlag(13607810, OFF);
    SetEventFlag(13607830, OFF);
    SetEventFlag(13607850, OFF);
    SetEventFlag(73400200, OFF);
    SetEventFlag(73400201, OFF);
    SetEventFlag(73400202, OFF);
    SetEventFlag(73400203, OFF);
    SetEventFlag(73500200, OFF);
    SetEventFlag(73500201, OFF);
    SetEventFlag(73500202, OFF);
    SetEventFlag(73600200, OFF);
    SetEventFlag(73600201, OFF);
    SetEventFlag(73600202, OFF);
    WaitFor(PlayerInMap(34, 0) || PlayerInMap(35, 0) || PlayerInMap(36, 0));
    WarpPlayerToRespawnPoint(2102961);
});

// 常に立っている、立っていないフラグ
$Event(6002, Restart, function() {
    SetEventFlag(6000, ON);
    SetEventFlag(6001, OFF);
});

// 売買メッセンジャー_ダンジョンショップ購入を拠点ショップ販売に反映_XX
$Event(5500, Restart, function(X0_4) {
    SetNetworkSyncState(Disabled);
    EndIf(!CharacterType(10000, TargetType.Alive));
    EndIf(ThisEventSlot());
    WaitFor(PlayerHasItem(ItemType.Weapon, X0_4));
    WaitFixedTimeSeconds(0);
});

// 売買メッセンジャー_ラインナップ拡充_獣の爪
$Event(6680, Default, function() {
    SetNetworkSyncState(Disabled);
    if (CharacterType(10000, TargetType.Alive)) {
        EndIf(EventFlag(6680));
        WaitFor(
            PlayerHasItemIncludingBBox(ItemType.Weapon, 9000000)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 9000100)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 9000200)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 9000300)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 9000400)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 9000500)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 9000600)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 9000700)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 9000800)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 9000900)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 9001000));
        SetEventFlag(6680, ON);
        EndEvent();
    }
L0:
    WaitFor(EventFlag(6001));
    WaitFixedTimeSeconds(0);
});

// 売買メッセンジャー_ラインナップ拡充_大砲
$Event(6681, Default, function() {
    SetNetworkSyncState(Disabled);
    if (CharacterType(10000, TargetType.Alive)) {
        EndIf(EventFlag(6681));
        WaitFor(
            PlayerHasItemIncludingBBox(ItemType.Weapon, 15000000)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 15000100)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 15000200)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 15000300)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 15000400)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 15000500)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 15000600)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 15000700)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 15000800)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 15000900)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 15001000));
        SetEventFlag(6681, ON);
        EndEvent();
    }
L0:
    WaitFor(EventFlag(6001));
    WaitFixedTimeSeconds(0);
});

// 売買メッセンジャー_ラインナップ拡充_獣狩りの松明
$Event(6682, Default, function() {
    SetNetworkSyncState(Disabled);
    if (CharacterType(10000, TargetType.Alive)) {
        EndIf(EventFlag(6682));
        WaitFor(
            PlayerHasItemIncludingBBox(ItemType.Weapon, 20000000)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 20000100)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 20000200)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 20000300)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 20000400)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 20000500)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 20000600)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 20000700)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 20000800)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 20000900)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 20001000));
        SetEventFlag(6682, ON);
        EndEvent();
    }
L0:
    WaitFor(EventFlag(6001));
    WaitFixedTimeSeconds(0);
});

// 売買メッセンジャー_ラインナップ拡充_獣狩りの曲刀
$Event(6683, Default, function() {
    SetNetworkSyncState(Disabled);
    if (CharacterType(10000, TargetType.Alive)) {
        EndIf(EventFlag(6683));
        WaitFor(
            PlayerHasItemIncludingBBox(ItemType.Weapon, 23000000)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 23000100)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 23000200)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 23000300)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 23000400)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 23000500)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 23000600)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 23000700)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 23000800)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 23000900)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 23001000));
        SetEventFlag(6683, ON);
        EndEvent();
    }
L0:
    WaitFor(EventFlag(6001));
    WaitFixedTimeSeconds(0);
});

// 売買メッセンジャー_ラインナップ拡充_獣肉断ち
$Event(6684, Default, function() {
    SetNetworkSyncState(Disabled);
    if (CharacterType(10000, TargetType.Alive)) {
        EndIf(EventFlag(6684));
        WaitFor(
            PlayerHasItemIncludingBBox(ItemType.Weapon, 24000000)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 24000100)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 24000200)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 24000300)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 24000400)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 24000500)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 24000600)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 24000700)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 24000800)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 24000900)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 24001000));
        SetEventFlag(6684, ON);
        EndEvent();
    }
L0:
    WaitFor(EventFlag(6001));
    WaitFixedTimeSeconds(0);
});

// 売買メッセンジャー_ラインナップ拡充_教会の杭
$Event(6685, Default, function() {
    SetNetworkSyncState(Disabled);
    if (CharacterType(10000, TargetType.Alive)) {
        EndIf(EventFlag(6685));
        WaitFor(
            PlayerHasItemIncludingBBox(ItemType.Weapon, 30000000)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 30000100)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 30000200)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 30000300)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 30000400)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 30000500)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 30000600)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 30000700)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 30000800)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 30000900)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 30001000));
        SetEventFlag(6685, ON);
        EndEvent();
    }
L0:
    WaitFor(EventFlag(6001));
    WaitFixedTimeSeconds(0);
});

// 売買メッセンジャー_ラインナップ拡充_シモンの弓剣
$Event(6686, Default, function() {
    SetNetworkSyncState(Disabled);
    if (CharacterType(10000, TargetType.Alive)) {
        EndIf(EventFlag(6686));
        WaitFor(
            PlayerHasItemIncludingBBox(ItemType.Weapon, 32000000)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 32000100)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 32000200)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 32000300)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 32000400)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 32000500)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 32000600)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 32000700)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 32000800)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 32000900)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 32001000));
        SetEventFlag(6686, ON);
        EndEvent();
    }
L0:
    WaitFor(EventFlag(6001));
    WaitFixedTimeSeconds(0);
});

// 売買メッセンジャー_ラインナップ拡充_月光の聖剣
$Event(6687, Default, function() {
    SetNetworkSyncState(Disabled);
    if (CharacterType(10000, TargetType.Alive)) {
        EndIf(EventFlag(6687));
        WaitFor(
            PlayerHasItemIncludingBBox(ItemType.Weapon, 26000000)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 26000100)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 26000200)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 26000300)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 26000400)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 26000500)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 26000600)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 26000700)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 26000800)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 26000900)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 26001000));
        SetEventFlag(6687, ON);
        EndEvent();
    }
L0:
    WaitFor(EventFlag(6001));
    WaitFixedTimeSeconds(0);
});

// 売買メッセンジャー_ラインナップ拡充_落葉
$Event(6688, Default, function() {
    SetNetworkSyncState(Disabled);
    if (CharacterType(10000, TargetType.Alive)) {
        EndIf(EventFlag(6688));
        WaitFor(
            PlayerHasItemIncludingBBox(ItemType.Weapon, 27000000)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 27000100)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 27000200)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 27000300)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 27000400)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 27000500)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 27000600)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 27000700)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 27000800)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 27000900)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 27001000));
        SetEventFlag(6688, ON);
        EndEvent();
    }
L0:
    WaitFor(EventFlag(6001));
    WaitFixedTimeSeconds(0);
});

// 売買メッセンジャー_ラインナップ拡充_回転ノコギリ
$Event(6689, Default, function() {
    SetNetworkSyncState(Disabled);
    if (CharacterType(10000, TargetType.Alive)) {
        EndIf(EventFlag(6689));
        WaitFor(
            PlayerHasItemIncludingBBox(ItemType.Weapon, 31000000)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 31000100)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 31000200)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 31000300)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 31000400)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 31000500)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 31000600)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 31000700)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 31000800)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 31000900)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 31001000));
        SetEventFlag(6689, ON);
        EndEvent();
    }
L0:
    WaitFor(EventFlag(6001));
    WaitFixedTimeSeconds(0);
});

// 売買メッセンジャー_ラインナップ拡充_爆発金槌
$Event(6690, Default, function() {
    SetNetworkSyncState(Disabled);
    if (CharacterType(10000, TargetType.Alive)) {
        EndIf(EventFlag(6690));
        WaitFor(
            PlayerHasItemIncludingBBox(ItemType.Weapon, 28000000)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 28000100)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 28000200)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 28000300)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 28000400)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 28000500)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 28000600)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 28000700)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 28000800)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 28000900)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 28001000));
        SetEventFlag(6690, ON);
        EndEvent();
    }
L0:
    WaitFor(EventFlag(6001));
    WaitFixedTimeSeconds(0);
});

// 売買メッセンジャー_ラインナップ拡充_瀉血の槌
$Event(6691, Default, function() {
    SetNetworkSyncState(Disabled);
    if (CharacterType(10000, TargetType.Alive)) {
        EndIf(EventFlag(6691));
        WaitFor(
            PlayerHasItemIncludingBBox(ItemType.Weapon, 29000000)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 29000100)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 29000200)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 29000300)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 29000400)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 29000500)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 29000600)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 29000700)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 29000800)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 29000900)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 29001000));
        SetEventFlag(6691, ON);
        EndEvent();
    }
L0:
    WaitFor(EventFlag(6001));
    WaitFixedTimeSeconds(0);
});

// 売買メッセンジャー_ラインナップ拡充_小アメンの腕
$Event(6692, Default, function() {
    SetNetworkSyncState(Disabled);
    if (CharacterType(10000, TargetType.Alive)) {
        EndIf(EventFlag(6692));
        WaitFor(
            PlayerHasItemIncludingBBox(ItemType.Weapon, 25000000)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 25000100)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 25000200)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 25000300)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 25000400)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 25000500)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 25000600)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 25000700)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 25000800)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 25000900)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 25001000));
        SetEventFlag(6692, ON);
        EndEvent();
    }
L0:
    WaitFor(EventFlag(6001));
    WaitFixedTimeSeconds(0);
});

// 売買メッセンジャー_ラインナップ拡充_ゴースの寄生虫
$Event(6693, Default, function() {
    SetNetworkSyncState(Disabled);
    if (CharacterType(10000, TargetType.Alive)) {
        EndIf(EventFlag(6693));
        WaitFor(
            PlayerHasItemIncludingBBox(ItemType.Weapon, 38000000)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 38000100)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 38000200)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 38000300)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 38000400)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 38000500)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 38000600)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 38000700)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 38000800)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 38000900)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 38001000));
        SetEventFlag(6693, ON);
        EndEvent();
    }
L0:
    WaitFor(EventFlag(6001));
    WaitFixedTimeSeconds(0);
});

// 売買メッセンジャー_ラインナップ拡充_ガトリング銃
$Event(6694, Default, function() {
    SetNetworkSyncState(Disabled);
    if (CharacterType(10000, TargetType.Alive)) {
        EndIf(EventFlag(6694));
        WaitFor(
            PlayerHasItemIncludingBBox(ItemType.Weapon, 33000000)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 33000100)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 33000200)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 33000300)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 33000400)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 33000500)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 33000600)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 33000700)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 33000800)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 33000900)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 33001000));
        SetEventFlag(6694, ON);
        EndEvent();
    }
L0:
    WaitFor(EventFlag(6001));
    WaitFixedTimeSeconds(0);
});

// 売買メッセンジャー_ラインナップ拡充_教会砲
$Event(6695, Default, function() {
    SetNetworkSyncState(Disabled);
    if (CharacterType(10000, TargetType.Alive)) {
        EndIf(EventFlag(6695));
        WaitFor(
            PlayerHasItemIncludingBBox(ItemType.Weapon, 35000000)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 35000100)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 35000200)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 35000300)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 35000400)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 35000500)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 35000600)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 35000700)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 35000800)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 35000900)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 35001000));
        SetEventFlag(6695, ON);
        EndEvent();
    }
L0:
    WaitFor(EventFlag(6001));
    WaitFixedTimeSeconds(0);
});

// 売買メッセンジャー_ラインナップ拡充_ガラシャの拳
$Event(6696, Default, function() {
    SetNetworkSyncState(Disabled);
    if (CharacterType(10000, TargetType.Alive)) {
        EndIf(EventFlag(6696));
        WaitFor(
            PlayerHasItemIncludingBBox(ItemType.Weapon, 34000000)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 34000100)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 34000200)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 34000300)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 34000400)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 34000500)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 34000600)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 34000700)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 34000800)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 34000900)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 34001000));
        SetEventFlag(6696, ON);
        EndEvent();
    }
L0:
    WaitFor(EventFlag(6001));
    WaitFixedTimeSeconds(0);
});

// 売買メッセンジャー_ラインナップ拡充_湖の盾
$Event(6697, Default, function() {
    SetNetworkSyncState(Disabled);
    if (CharacterType(10000, TargetType.Alive)) {
        EndIf(EventFlag(6697));
        WaitFor(
            PlayerHasItemIncludingBBox(ItemType.Weapon, 19100000)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 19100100)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 19100200)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 19100300)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 19100400)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 19100500)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 19100600)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 19100700)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 19100800)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 19100900)
                || PlayerHasItemIncludingBBox(ItemType.Weapon, 19101000));
        SetEventFlag(6697, ON);
        EndEvent();
    }
L0:
    WaitFor(EventFlag(6001));
    WaitFixedTimeSeconds(0);
});

// 連盟_アイテム使用1
$Event(6788, Default, function() {
    SetNetworkSyncState(Disabled);
    WaitFor(CharacterHasSpEffect(10000, 6141));
    StoreItemAmountHeldInEventValue(ItemType.Goods, 1700, 6780, 8);
    WaitFixedTimeSeconds(0.1);
    RestartEvent();
});

// 連盟_アイテム使用2
$Event(6789, Default, function() {
    SetNetworkSyncState(Disabled);
    WaitFor(CharacterHasSpEffect(10000, 6143));
    StoreItemAmountHeldInEventValue(ItemType.Goods, 1700, 6790, 8);
    EventValueOperation(6780, 8, 0, 6790, 8, CalculationType.Sub);
    EventValueOperation(6800, 9, 0, 6780, 8, CalculationType.Add);
    if (EventValue(6800, 9) >= 255) {
        EventValueOperation(6800, 9, 255, 0, 1, CalculationType.Assign);
    }
    WaitFixedTimeSeconds(0.1);
    RestartEvent();
});

// 連盟_アイテム使用回数X以上
$Event(6809, Default, function() {
    SetNetworkSyncState(Disabled);
    WaitFor(EventValue(6800, 9) >= 1);
    SetEventFlag(6810, ON);
    WaitFor(EventValue(6800, 9) >= 2);
    SetEventFlag(6811, ON);
    WaitFor(EventValue(6800, 9) >= 5);
    SetEventFlag(6812, ON);
});

// 連盟_長になったときの特殊効果
$Event(6815, Default, function() {
    SetNetworkSyncState(Disabled);
    WaitFor(EventFlag(6813) && CharacterHasSpEffect(10000, 6142));
    SetSpEffect(10000, 6150, false);
    WaitFor(!EventFlag(6813) || !CharacterHasSpEffect(10000, 6142));
    ClearSpEffect(10000, 6150);
    RestartEvent();
});

// 連盟_杖入手後の特殊効果
$Event(6816, Default, function() {
    SetNetworkSyncState(Disabled);
    WaitFor(EventFlag(6814) && CharacterHasSpEffect(10000, 6142));
    SetSpEffect(10000, 6140, false);
    WaitFor(!EventFlag(6814) || !CharacterHasSpEffect(10000, 6142));
    ClearSpEffect(10000, 6140);
    RestartEvent();
});

// ワープOBJ_登録_XX
$Event(7000, Default, function(X0_4, X4_4, X8_4, X12_4) {
    SetNetworkSyncState(Disabled);
    ChangeCharacterEnableState(X0_4, Disabled);
    DeactivateObject(X4_4, Disabled);
    WaitFor(CharacterBackreadStatus(X0_4));
    if (!EventFlag(X8_4)) {
        ChangeCharacterEnableState(X0_4, Disabled);
        DeactivateObject(X4_4, Disabled);
        WaitFor(EventFlag(X8_4));
        DeactivateObject(X4_4, Enabled);
        ChangeCharacterEnableState(X0_4, Enabled);
        SpawnOneshotSFX(TargetEntityType.Object, X4_4, 100, 100330);
    }
L0:
    DeactivateObject(X4_4, Enabled);
    ChangeCharacterEnableState(X0_4, Enabled);
    RegisterHealingFountain(X12_4, X4_4, 0, 0, 0, 0);
});

// ワープOBJ_起動_XX
$Event(7100, Default, function(X0_4, X4_4) {
    EndIf(EventFlag(X0_4));
    WaitFor(EventFlag(X0_4));
    RotateCharacter(10000, X4_4, 101170, false);
    WaitFixedTimeFrames(32);
    InitializeWarpObject(X4_4);
    EndIf(EventFlag(6715));
    WaitFixedTimeFrames(58);
    SetEventFlag(70000030, ON);
    EndIf(!CharacterType(10000, TargetType.Alive));
    SetEventFlag(6715, ON);
});

// ワープOBJ_拠点へのワープ_XX
$Event(7200, Default, function(X0_4, X4_4, X8_4) {
    EndIf(HasMultiplayerState(MultiplayerState.Client));
    WaitFor(EventFlag(X0_4));
    SetEventFlag(X0_4, OFF);
    RotateCharacter(10000, X4_4, 101160, false);
    WaitFixedTimeSeconds(1);
    SpawnOneshotSFX(TargetEntityType.Object, X4_4, 100, 100320);
    WaitFixedTimeSeconds(3);
    if (EventFlag(9401)) {
        WarpPlayerToRespawnPoint(X8_4);
        EndEvent();
    }
    WarpPlayerToRespawnPoint(2102962);
});

// ワープOBJ_拠点からのワープ_XX
$Event(7300, Default, function(X0_4, X4_4) {
    EndIf(HasMultiplayerState(MultiplayerState.Client));
    WaitFor(EventFlag(X0_4));
    WaitFixedTimeFrames(1);
    SpawnOneshotSFX(TargetEntityType.Object, X4_4, 100, 100321);
    InitializeWarpObject(X4_4);
    SetEventFlag(X0_4, OFF);
});

// マルチ閉じ込め壁_XX
$Event(7600, Default, function(X0_4, X4_4) {
    SetNetworkSyncState(Disabled);
    DeactivateObject(X0_4, Disabled);
    DeleteMapSFX(X4_4, true);
    WaitFor(
        HasMultiplayerState(MultiplayerState.ConnectingtoMultiplayer)
            || HasMultiplayerState(MultiplayerState.Multiplayer));
    DeactivateObject(X0_4, Enabled);
    SpawnMapSFX(X4_4);
    WaitFor(
        !(HasMultiplayerState(MultiplayerState.ConnectingtoMultiplayer)
            || HasMultiplayerState(MultiplayerState.Multiplayer)));
    RestartEvent();
});

// 誓約BJ固有効果_XX
$Event(9030, Default, function(X0_4, X4_4) {
    SetNetworkSyncState(Disabled);
    WaitFor(CharacterHasSpEffect(10000, X0_4));
    SetSpEffect(10000, X4_4, false);
    WaitFor(!CharacterHasSpEffect(10000, X0_4));
    ClearSpEffect(10000, X4_4);
    RestartEvent();
});

// 誓約BJ固有効果_協力ゲスト専用_XX
$Event(9035, Default, function(X0_4, X4_4) {
    SetNetworkSyncState(Disabled);
    WaitFor(CharacterHasSpEffect(10000, X0_4) && CharacterType(10000, TargetType.WhitePhantom));
    SetSpEffect(10000, X4_4, false);
    WaitFor(!(CharacterHasSpEffect(10000, X0_4) && CharacterType(10000, TargetType.WhitePhantom)));
    ClearSpEffect(10000, X4_4);
    RestartEvent();
});

// NPCアイテム入手_XX
$Event(9040, Default, function(X0_4, X4_4) {
    EndIf(EventFlag(X0_4));
    EndIf(!CharacterType(10000, TargetType.Alive));
    WaitFor(EventFlag(X0_4));
    AwardItemLot(X4_4);
});

// NPCアイテム入手_何度でも_XX
$Event(9100, Default, function(X0_4, X4_4) {
    EndIf(!CharacterType(10000, TargetType.Alive));
    WaitFor(EventFlag(X0_4));
    SetEventFlag(X0_4, OFF);
    AwardItemLot(X4_4);
    RestartEvent();
});

// NPCアイテム入手_周回変化_XX
$Event(9110, Default, function(X0_4, X4_4, X8_4, X12_4) {
    EndIf(EventFlag(X0_4));
    EndIf(HasMultiplayerState(MultiplayerState.Client));
    WaitFor(EventFlag(X0_4));
    if (!EventFlag(X12_4)) {
        AwardItemLot(X4_4);
    } else {
        AwardItemLot(X8_4);
    }
});

// 啓蒙返却1
$Event(9181, Default, function() {
    EndIf(!CharacterType(10000, TargetType.Alive));
    WaitFor(NumberOfClientsOfType(ClientType.Coop) >= 1);
    SetEventFlag(9185, OFF);
    WaitFor(!CharacterHasSpEffect(10000, 9000));
    RestartEvent();
});

// 啓蒙返却2
$Event(9182, Default, function() {
    EndIf(!CharacterType(10000, TargetType.Alive));
    SetEventFlag(9184, OFF);
    WaitFor(
        HasMultiplayerState(MultiplayerState.ConnectingtoMultiplayer)
            && !HasMultiplayerState(MultiplayerState.Multiplayer));
    SetEventFlag(9184, ON);
    WaitFor(
        !HasMultiplayerState(MultiplayerState.ConnectingtoMultiplayer)
            || HasMultiplayerState(MultiplayerState.Multiplayer));
    RestartEvent();
});

// 啓蒙返却3
$Event(9183, Default, function() {
    EndIf(!CharacterType(10000, TargetType.Alive));
    WaitFor(!CharacterHasSpEffect(10000, 9000) && EventFlag(9185) && !EventFlag(9184));
    SetSpEffect(10000, 4680, false);
    SetEventFlag(9185, OFF);
    WaitFixedTimeSeconds(2.5);
    DisplayMessage(100300, 0);
    RestartEvent();
});

// NPC召喚実行できるか判定
$Event(9186, Default, function() {
    SetNetworkSyncState(Disabled);
    SetEventFlag(9187, ON);
    chrFlag &= CharacterType(10000, TargetType.Alive);
    EndIf(!chrFlag);
    SetEventFlag(9187, ON);
    chrFlag &= PlayerInsightAmount() >= 1 && !EventFlag(6009);
    WaitFor(chrFlag);
    SetEventFlag(9187, OFF);
    WaitFor(!(PlayerInsightAmount() >= 1 && !EventFlag(6009)));
    RestartEvent();
});

// ホストプレイ中の特殊効果
$Event(9190, Default, function() {
    SetNetworkSyncState(Disabled);
    WaitFor(
        HasMultiplayerState(MultiplayerState.Multiplayer)
            && HasMultiplayerState(MultiplayerState.Host));
    SetSpEffect(10000, 9001, false);
    WaitFor(
        !(HasMultiplayerState(MultiplayerState.Multiplayer)
            && HasMultiplayerState(MultiplayerState.Host)));
    ClearSpEffect(10000, 9001);
    RestartEvent();
});

// マルチ時間帯解禁フラグ制御_ホスト
$Event(9191, Default, function() {
    EndIf(HasMultiplayerState(MultiplayerState.Client));
    if (!(PlayerInMap(29, 0) || PlayerInMap(26, 0) || PlayerInMap(33, 0))) {
        SetEventFlag(6500, ON);
        WaitFor(EventFlag(9800));
        SetEventFlag(6501, ON);
        WaitFor(EventFlag(9801));
        SetEventFlag(6502, ON);
        WaitFor(EventFlag(9802));
        SetEventFlag(6503, ON);
        EndEvent();
    }
L0:
    BatchSetEventFlags(6500, 6503, ON);
    EndEvent();
});

// マルチ時間帯解禁フラグ制御_ゲスト
$Event(9192, Default, function() {
    EndIf(HasMultiplayerState(MultiplayerState.Client));
    SetEventFlag(6400, ON);
    WaitFor(EventFlag(9800));
    SetEventFlag(6401, ON);
    WaitFor(EventFlag(9801));
    SetEventFlag(6402, ON);
    WaitFor(EventFlag(9802));
    SetEventFlag(6403, ON);
});

// 血に酔った狩人
$Event(9193, Default, function() {
    EndIf(HasMultiplayerState(MultiplayerState.Client));
    WaitFor(EventFlag(6006));
    SetSpEffect(10000, 6130, false);
    WaitFor(!EventFlag(6006));
    ClearSpEffect(10000, 6130);
    RestartEvent();
});

// 狩人呼びの鐘使用Msg
$Event(9198, Default, function() {
    if (!EventFlag(9199)) {
        WaitFor(CharacterType(10000, TargetType.Alive) && CharacterHasSpEffect(10000, 9000));
        SetEventFlag(9185, ON);
        WaitFor(ElapsedSeconds(5));
        DisplayMessage(100001, 0);
        SetEventFlag(9199, ON);
    }
L0:
    WaitFor(CharacterType(10000, TargetType.Alive) && !CharacterHasSpEffect(10000, 9000));
    SetEventFlag(9199, OFF);
    RestartEvent();
});

// SAN値で幻聴が聞こえる_XX
$Event(9200, Default, function(X0_4) {
    SetNetworkSyncState(Disabled);
    SetMapSoundState(X0_4, Disabled);
    WaitFor(
        (PlayerInsightAmount() >= 60 || EventFlag(9802))
            && !EventFlag(9180)
            && !EventFlag(9462)
            && !PlayerInMap(26, 0));
    SetMapSoundState(X0_4, Enabled);
    WaitFor(
        !((PlayerInsightAmount() >= 60 || EventFlag(9802))
            && !EventFlag(9180)
            && !EventFlag(9462)
            && !PlayerInMap(26, 0)));
    RestartEvent();
});

// 漁村 or 時計塔で殺し屋の鐘が聞こえる
$Event(9215, Default, function() {
    SetNetworkSyncState(Disabled);
    WaitFor(EventFlag(9468) && !EventFlag(1730) && (PlayerInMap(35, 0) || PlayerInMap(36, 0)));
    WaitRandomTimeSeconds(60, 120);
    PlaySE(10000, SoundType.sSFX, 10307);
    WaitRandomTimeSeconds(2, 4);
    PlaySE(10000, SoundType.sSFX, 10307);
    RestartEvent();
});

// 出現寡婦_出現_XX
$Event(9220, Restart, function(X0_4, X4_4, X8_4, X12_4, X16_1, X17_1) {
    if (EventFlag(X8_4)) {
        SetCharacterAIState(X0_4, Disabled);
        ForceAnimationPlayback(X0_4, 7010, false, false, false);
        EndEvent();
    }
L0:
    EndIf(EventFlag(X4_4));
    SetCharacterAIState(X0_4, Disabled);
    ForceAnimationPlayback(X0_4, 7010, true, false, false);
    WaitFor(
        IsOnline()
            && !EventFlag(X8_4)
            && !CharacterDead(X0_4)
            && !EventFlag(X12_4)
            && PlayerInMap(X16_1, X17_1)
            && ((CharacterType(10000, TargetType.Alive)
                && PlayersSoulLevel() >= 30
                && NumberOfClientsOfType(ClientType.Coop) >= 1)
                || CharacterHasSpEffect(10000, 9025)));
    WaitFor(RandomElapsedSeconds(10, 10));
    DisplayMessage(109000, 0);
    ForceAnimationPlayback(X0_4, 7011, false, false, false);
    WaitFixedTimeFrames(59);
    SetCharacterAIState(X0_4, Enabled);
    SetEventFlag(X4_4, ON);
});

// 出現寡婦_鐘を鳴らす_XX
$Event(9240, Restart, function(X0_4, X4_4, X8_4, X12_4, X16_1, X17_1) {
    EndIf(EventFlag(X8_4));
    WaitFor(
        EventFlag(X4_4)
            && !EventFlag(X12_4)
            && !EventFlag(X8_4)
            && PlayerInMap(X16_1, X17_1)
            && NumberOfClientsOfType(ClientType.Invader) == 0);
    WaitFor(CharacterType(10000, TargetType.Alive) && RandomElapsedSeconds(10, 10));
    SetSpEffect(10000, 9020, false);
    SetSpEffect(X0_4, 9100, false);
    RequestCharacterAIReplan(X0_4);
    SetEventFlag(X12_4, ON);
    DisplayMessage(100002, 0);
    RestartEvent();
});

// 出現寡婦_鐘を止める_XX
$Event(9260, Restart, function(X0_4, X4_4, X8_4, X12_4, X16_1, X17_1) {
    EndIf(EventFlag(X8_4));
    WaitFor(
        EventFlag(X4_4)
            && EventFlag(X12_4)
            && (EventFlag(X8_4)
                || NumberOfClientsOfType(ClientType.Invader) >= 1
                || !PlayerInMap(X16_1, X17_1)));
    WaitFor(CharacterType(10000, TargetType.Alive));
    ClearSpEffect(10000, 9020);
    ClearSpEffect(X0_4, 9100);
    RequestCharacterAIReplan(X0_4);
    SetEventFlag(X12_4, OFF);
    RestartEvent();
});

// 出現寡婦_消滅_XX
$Event(9280, Default, function(X0_4, X4_4, X8_4, X12_4, X16_4, X20_1, X21_1) {
    EndIf(EventFlag(X8_4) || EventFlag(X12_4) || EventFlag(X16_4));
    hp = HPRatio(X0_4) == 0;
    flag = EventFlag(X16_4);
    WaitFor(EventFlag(X4_4) && PlayerInMap(X20_1, X21_1) && (hp || flag));
    SetEventFlag(X8_4, ON);
    if (!flag.Passed) {
        WaitFixedTimeSeconds(5);
        DisplayMessage(109001, 0);
        EndEvent();
    }
L0:
    SetCharacterAIState(X0_4, Disabled);
    ForceAnimationPlayback(X0_4, 7012, false, false, false);
    WaitFixedTimeFrames(88);
    ForceAnimationPlayback(X0_4, 7010, false, false, false);
});

// SAN値獲得
$Event(9350, Default, function(X0_4) {
    EndIf(HasMultiplayerState(MultiplayerState.Client));
    if (X0_4 != 1) {
        if (X0_4 != 2) {
            if (X0_4 != 3) {
                if (X0_4 != 4) {
                    if (X0_4 != 5) {
                        if (X0_4 != 6) {
                            if (X0_4 != 7) {
                                if (X0_4 != 8) {
                                    if (X0_4 != 9) {
                                        EndEvent();
                                    }
L9:
                                    SetSpEffect(10000, 4680, false);
                                    WaitFixedTimeFrames(10);
                                }
L8:
                                SetSpEffect(10000, 4680, false);
                                WaitFixedTimeFrames(10);
                            }
L7:
                            SetSpEffect(10000, 4680, false);
                            WaitFixedTimeFrames(10);
                        }
L6:
                        SetSpEffect(10000, 4680, false);
                        WaitFixedTimeFrames(10);
                    }
L5:
                    SetSpEffect(10000, 4680, false);
                    WaitFixedTimeFrames(10);
                }
L4:
                SetSpEffect(10000, 4680, false);
                WaitFixedTimeFrames(10);
            }
L3:
            SetSpEffect(10000, 4680, false);
            WaitFixedTimeFrames(10);
        }
L2:
        SetSpEffect(10000, 4680, false);
        WaitFixedTimeFrames(10);
    }
L1:
    SetSpEffect(10000, 4680, false);
    WaitFixedTimeFrames(10);
});

// 血族BJを付けてNPC殺害_XX
$Event(9360, Default, function(X0_4, X4_4, X8_4, X12_4) {
    EndIf(ThisEventSlot());
    EndIf(EventFlag(X0_4));
    EndIf(EventFlag(X4_4));
    EndIf(EventFlag(X8_4));
    flag = EventFlag(X0_4) || EventFlag(X4_4) || EventFlag(X8_4);
    flag2 = EventFlag(X12_4);
    WaitFor(flag || flag2);
    EndIf(flag2.Passed);
    EndIf(
        !((CharacterType(10000, TargetType.Alive) || CharacterType(10000, TargetType.WhitePhantom))
            && CharacterHasSpEffect(10000, 6100)));
    AwardItemsIncludingClients(5520);
});

// 初回死亡で拠点へ
$Event(9400, Default, function() {
    EndIf(HasMultiplayerState(MultiplayerState.Client));
    EndIf(EventFlag(12410999));
    EndIf(EventFlag(9401));
    if (!EventFlag(9402)) {
        WaitFor(PlayerInMap(24, 1));
    }
    SetEventFlag(9402, ON);
    WaitFor(CharacterDead(10000));
    SetPlayerRespawnPoint(2102962);
});

// SAN値1以上で初回死亡
$Event(9404, Default, function() {
    EndIf(HasMultiplayerState(MultiplayerState.Client));
    EndIf(ThisEvent());
    WaitFor(EventFlag(9401) && PlayerInsightAmount() >= 1 && CharacterDead(10000));
    SetPlayerRespawnPoint(2102961);
});

// 大学クリアで生贄にワープ_アイテム入手
$Event(9410, Default, function() {
    EndIf(ThisEvent());
    WaitFor(
        EventFlag(13201803) && CharacterType(10000, TargetType.Alive) && InArea(10000, 2802010));
    WaitFixedTimeSeconds(0);
    AwardItemLot(3200800);
});

// 初回生贄_00
$Event(9421, Default, function() {
    EndIf(EventFlag(9423));
    EndIf(HasMultiplayerState(MultiplayerState.Client));
    WaitFor(EventFlag(9420));
    SetPlayerRespawnPoint(2802959);
    SetEventFlag(9420, OFF);
});

// 初回生贄_01
$Event(9422, Default, function() {
    EndIf(EventFlag(9423));
    EndIf(HasMultiplayerState(MultiplayerState.Client));
    EndIf(!(EventFlag(9421) && PlayerInMap(28, 0)));
    SetEventFlag(9180, ON);
    PlayCutsceneToPlayer(28000010, CutscenePlayMode.SkippableWithFadeOut, 10000);
    WaitFixedTimeFrames(1);
    SetEventFlag(9180, OFF);
    SetEventFlag(9423, ON);
    SetSpEffect(10000, 4680, false);
});

// 誓約ボディジェム入手_XX
$Event(9440, Default, function(X0_4, X4_4) {
    SetNetworkSyncState(Disabled);
    EndIf(ThisEventSlot());
    EndIf(HasMultiplayerState(MultiplayerState.Client));
    WaitFor(EventFlag(X0_4));
    AwardItemLot(X4_4);
});

// 血族BJを付けてNPC殺害2_XX
$Event(9480, Default, function(X0_4, X4_4, X8_4, X12_4, X16_4) {
    EndIf(ThisEventSlot());
    EndIf(EventFlag(X0_4));
    EndIf(EventFlag(X4_4));
    EndIf(EventFlag(X8_4));
    flag = EventFlag(X0_4) || EventFlag(X4_4) || EventFlag(X8_4) || EventFlag(X12_4);
    flag2 = EventFlag(X16_4);
    WaitFor(flag || flag2);
    EndIf(flag2.Passed);
    EndIf(
        !((CharacterType(10000, TargetType.Alive) || CharacterType(10000, TargetType.WhitePhantom))
            && CharacterHasSpEffect(10000, 6100)));
    AwardItemsIncludingClients(5520);
});

// 魔石原石使用_XX
$Event(9500, Default, function(X0_4, X4_4) {
    SetNetworkSyncState(Disabled);
    WaitFor(CharacterHasSpEffect(10000, X0_4));
    AwardItemsIncludingClients(X4_4);
    WaitFixedTimeSeconds(0.1);
    RestartEvent();
});

// 拠点老人_ランダム居眠り2
$Event(9700, Default, function(X0_4, X4_4) {
    WaitFor(EventFlag(1021) && EventFlag(72100121) && !PlayerInMap(21, 0));
    BatchSetEventFlags(X0_4, X4_4, OFF);
    SetEventFlag(1022, ON);
});

// 拠点老人_ランダム居眠り3
$Event(9701, Default, function(X0_4, X4_4) {
    WaitFor(EventFlag(1023) && EventFlag(72100123) && !PlayerInMap(21, 0));
    BatchSetEventFlags(X0_4, X4_4, OFF);
    SetEventFlag(1024, ON);
});

// 拠点老人_ランダム居眠り4
$Event(9702, Default, function(X0_4, X4_4) {
    WaitFor(EventFlag(1025) && EventFlag(72100125) && !PlayerInMap(21, 0));
    BatchSetEventFlags(X0_4, X4_4, OFF);
    SetEventFlag(1026, ON);
});

// 拠点老人_ランダム居眠り5
$Event(9703, Default, function(X0_4, X4_4) {
    WaitFor(EventFlag(1026) && EventFlag(9802) && EventFlag(72100128) && !PlayerInMap(21, 0));
    BatchSetEventFlags(X0_4, X4_4, OFF);
    SetEventFlag(1027, ON);
});

// 人形のヒロイン_お帰りなさい
$Event(9710, Default, function(X0_4, X4_4) {
    WaitFor(EventFlag(1000) && EventFlag(72100110) && !PlayerInMap(21, 0));
    BatchSetEventFlags(X0_4, X4_4, OFF);
    SetEventFlag(1001, ON);
});

// 復讐者_ワープOBJ使用制限_ガスコイン部屋
$Event(9720, Default, function() {
    if (!ThisEvent()) {
        if (!EventFlag(12410810)) {
            if (!EventFlag(9467)) {
                flagMap = EventFlag(1362) && EventFlag(72400520) && PlayerInMap(21, 0);
                flag = EventFlag(1363);
                flag2 = (EventFlag(1701) || EventFlag(1702)) && (EventFlag(1368) || EventFlag(1369));
                flag3 = EventFlag(12410810) || EventFlag(9467);
                WaitFor(flagMap || flag || flag2 || flag3);
                if (!flag3.Passed) {
                    SetEventFlag(70002413, ON);
                    WaitFor(EventFlag(12410810) || EventFlag(9467));
                }
            }
        }
    }
L0:
    SetEventFlag(70002413, OFF);
});

// 復讐者_ワープOBJ使用制限_聖女ビースト部屋
$Event(9721, Default, function() {
    if (!ThisEvent()) {
        WaitFor(EventFlag(1371) || (EventFlag(1705) && CharacterDead(2400902)));
    }
L0:
    SetEventFlag(70002401, OFF);
});

// 復讐者_衰弱
$Event(9722, Default, function() {
    EndIf(!CharacterType(10000, TargetType.Alive));
    WaitFor(EventFlag(1373) && EventFlag(9802));
    BatchSetEventFlags(1360, 1379, OFF);
    SetEventFlag(1370, ON);
    SetEventFlag(70002401, ON);
});

// 復讐者_闇堕ち
$Event(9723, Default, function() {
    EndIf(!CharacterType(10000, TargetType.Alive));
    WaitFor(EventFlag(1374) && EventFlag(9802));
    BatchSetEventFlags(1360, 1379, OFF);
    SetEventFlag(1372, ON);
    SetEventFlag(70002401, ON);
});

// 感染者の乞食_他NPC殺害カウント_地上
$Event(9755, Default, function() {
    WaitFor(
        (EventFlag(1205) || EventFlag(1207))
            && EventFlag(72400360)
            && (EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 12201800)
                || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 12301800)
                || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 12301700)
                || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 12401800)
                || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 12411800)
                || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 12411700)
                || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 12421800)
                || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 12421700)
                || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 12501800)
                || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 12601800)
                || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 12601850)
                || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 12701800)
                || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 12801800)
                || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 13201800)
                || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 13301800)));
    IncrementEventValue(70000200, 3, 7);
    RestartEvent();
});

// 感染者の乞食_他NPC殺害カウント_ダンジョン
$Event(9756, Default, function() {
    WaitFor(
        (EventFlag(1205) || EventFlag(1207))
            && EventFlag(72400360)
            && PlayerInMap(29, 0)
            && (EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 12901800)
                || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 12901801)
                || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 12901802)
                || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 12901803)));
    IncrementEventValue(70000200, 3, 7);
    RestartEvent();
});

// 血族狩り_古城以外に移動した
$Event(9770, Default, function() {
    WaitFor(EventFlag(1351) && !PlayerInMap(25, 0));
    SetEventFlag(72500359, ON);
});

// クモ男パッチ_ダンジョンにいる
$Event(9780, Default, function() {
    WaitFor(EventFlag(1422) && !PlayerInMap(32, 0) && EventFlag(73200326));
    BatchSetEventFlags(1420, 1437, OFF);
    SetEventFlag(1423, ON);
});

// クモ男パッチ_森に到達したので住民を乗っ取る
$Event(9781, Default, function() {
    EndIf(ThisEvent());
    WaitFor(CharacterType(10000, TargetType.Alive) && PlayerInMap(27, 0));
    EndIf(EventFlag(1438));
    SetEventFlag(1439, ON);
    SetEventFlag(72410382, ON);
});

// クモ男_(話を聞いている&拠点に行ったor死んだ)orクモ男が死んだので乗っとり終了
$Event(9782, Default, function() {
    WaitFor(
        (PlayerHasItem(ItemType.Goods, 4310) && (PlayerInMap(21, 0) || CharacterDead(10000)))
            || EventFlag(1431));
    SetEventFlag(1438, ON);
    SetEventFlag(1439, OFF);
});

// Cエンド分岐_判定
$Event(9909, Default, function() {
    EndIf(EventFlag(9900));
    WaitFor(EventValue(9901, 4) >= 3);
    SetEventFlag(9900, ON);
});

// Cエンド分岐_3本目のへその緒使用個数カウント_XX
$Event(9905, Default, function(X0_4) {
    EndIf(ThisEventSlot());
    WaitFor(CharacterHasSpEffect(10000, X0_4));
    IncrementEventValue(9901, 4, 4);
});

// ザクザクフラグ制御
$Event(9910, Default, function() {
    SetNetworkSyncState(Disabled);
    EndIf(!CharacterType(10000, TargetType.Alive));
    EndIf(ThisEvent());
    if (!EventFlag(6300)) {
        SetEventFlag(50000400, OFF);
        SetEventFlag(50000405, ON);
    } else {
        SetEventFlag(50000400, ON);
        SetEventFlag(50000405, OFF);
    }
    if (!EventFlag(6301)) {
        SetEventFlag(50000600, OFF);
        SetEventFlag(50000605, ON);
    } else {
        SetEventFlag(50000600, ON);
        SetEventFlag(50000605, OFF);
    }
    if (!EventFlag(6302)) {
        SetEventFlag(50000800, OFF);
        SetEventFlag(50000801, ON);
    } else {
        SetEventFlag(50000800, ON);
        SetEventFlag(50000801, OFF);
    }
    if (!EventFlag(6303)) {
        SetEventFlag(50001100, OFF);
        SetEventFlag(50001105, ON);
    } else {
        SetEventFlag(50001100, ON);
        SetEventFlag(50001105, OFF);
    }
    if (!EventFlag(6304)) {
        SetEventFlag(50001300, OFF);
        SetEventFlag(50001301, ON);
    } else {
        SetEventFlag(50001300, ON);
        SetEventFlag(50001301, OFF);
    }
    if (!EventFlag(6305)) {
        SetEventFlag(50001610, OFF);
        SetEventFlag(50001611, ON);
    } else {
        SetEventFlag(50001610, ON);
        SetEventFlag(50001611, OFF);
    }
    if (!EventFlag(6306)) {
        SetEventFlag(50002110, OFF);
        SetEventFlag(50002115, ON);
    } else {
        SetEventFlag(50002110, ON);
        SetEventFlag(50002115, OFF);
    }
    if (!EventFlag(6307)) {
        SetEventFlag(50003400, OFF);
        SetEventFlag(50003405, ON);
    } else {
        SetEventFlag(50003400, ON);
        SetEventFlag(50003405, OFF);
    }
    if (!EventFlag(6308)) {
        SetEventFlag(50003500, OFF);
        SetEventFlag(50003505, ON);
    } else {
        SetEventFlag(50003500, ON);
        SetEventFlag(50003505, OFF);
    }
    if (!EventFlag(6340)) {
        SetEventFlag(50000200, OFF);
        SetEventFlag(50000205, OFF);
        SetEventFlag(50000210, ON);
    } else {
        SetEventFlag(50000200, ON);
        SetEventFlag(50000205, ON);
        SetEventFlag(50000210, OFF);
    }
    if (!EventFlag(6341)) {
        SetEventFlag(50001820, OFF);
        SetEventFlag(50001825, ON);
    } else {
        SetEventFlag(50001820, ON);
        SetEventFlag(50001825, OFF);
    }
    if (!EventFlag(6342)) {
        SetEventFlag(50001910, OFF);
        SetEventFlag(50001915, ON);
        SetEventFlag(50001900, OFF);
        SetEventFlag(50001905, ON);
    } else {
        SetEventFlag(50001910, ON);
        SetEventFlag(50001915, OFF);
        SetEventFlag(50001900, OFF);
        SetEventFlag(50001905, ON);
    }
    if (!EventFlag(6334)) {
        SetEventFlag(50003100, OFF);
        SetEventFlag(50003105, ON);
    } else {
        SetEventFlag(50003100, ON);
        SetEventFlag(50003105, OFF);
    }
    if (!EventFlag(6335)) {
        SetEventFlag(50001500, OFF);
        SetEventFlag(50001505, ON);
    } else {
        SetEventFlag(50001500, ON);
        SetEventFlag(50001505, OFF);
    }
    if (!EventFlag(6641)) {
        SetEventFlag(50001700, OFF);
        SetEventFlag(50001701, ON);
    } else {
        SetEventFlag(50001700, ON);
        SetEventFlag(50001701, OFF);
    }
    if (!EventFlag(6643)) {
        SetEventFlag(50001900, OFF);
        SetEventFlag(50001905, ON);
    } else {
        SetEventFlag(50001900, ON);
        SetEventFlag(50001905, OFF);
    }
    if (!EventFlag(6647)) {
        SetEventFlag(50001810, OFF);
        SetEventFlag(50001805, ON);
    } else {
        SetEventFlag(50001810, ON);
        SetEventFlag(50001805, OFF);
    }
    if (!EventFlag(6649)) {
        SetEventFlag(50000205, OFF);
        SetEventFlag(50000210, ON);
    } else {
        SetEventFlag(50000205, ON);
        SetEventFlag(50000210, OFF);
    }
    if (!EventFlag(6677)) {
        SetEventFlag(50002260, OFF);
        SetEventFlag(50002261, ON);
    } else {
        SetEventFlag(50002260, ON);
        SetEventFlag(50002261, OFF);
    }
});


